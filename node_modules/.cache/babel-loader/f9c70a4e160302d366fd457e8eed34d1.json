{"ast":null,"code":"var _jsxFileName = \"/home/leshb/Course Work/strangers-things/src/components/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { fetchUserData } from \"../util/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Profile = _ref => {\n  _s();\n\n  let {\n    token,\n    userName,\n    posts,\n    setSearchBar\n  } = _ref;\n  const [messages, setMessages] = useState([]);\n  const history = useHistory();\n\n  const dataMessage = async () => {\n    setMessages(await fetchUserData(token));\n    console.log(messages);\n    return messages;\n  };\n\n  const handleClick = title => {\n    console.log(dataMessage());\n    console.log(title);\n    setSearchBar(title);\n    history.push(`/posts`);\n  };\n\n  useEffect(() => {\n    dataMessage();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"WELCOME \", userName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"PRIMARY INBOX\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this), messages.map(message => {\n        console.log(message);\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: userName !== message.fromUser.username ? /*#__PURE__*/_jsxDEV(\"article\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              onClick: () => handleClick(message.post.title),\n              children: [\"Post: \", message.post.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"From: \", message.fromUser.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [message.content, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              onClick: () => handleClick(message.post.title),\n              style: {\n                fontSize: \"20px\"\n              },\n              children: \"-View Post-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 33\n          }, this) // fix click handler, not sending to correct post.\n          : null\n        }, void 0, false);\n      })]\n    }, void 0, true)\n  }, void 0, false);\n};\n\n_s(Profile, \"DAK8xyXvKgBmDbBVsomuQpYTBgw=\", false, function () {\n  return [useHistory];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","useHistory","fetchUserData","Profile","token","userName","posts","setSearchBar","messages","setMessages","history","dataMessage","console","log","handleClick","title","push","map","message","fromUser","username","post","content","fontSize"],"sources":["/home/leshb/Course Work/strangers-things/src/components/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { fetchUserData } from \"../util/api\";\n\n\n\nconst Profile = ({ token, userName, posts, setSearchBar }) => {\n    const [messages, setMessages] = useState([])\n    const history = useHistory();\n\n    const dataMessage = async () => {\n        setMessages(await fetchUserData(token))\n        console.log(messages)\n        return messages\n    }\n\n    const handleClick = (title) => {\n        console.log(dataMessage())\n        console.log(title)\n        setSearchBar(title)\n        history.push(`/posts`)\n    }\n\n\n    useEffect(() => {\n        dataMessage();\n    }, [])\n\n    return <>\n\n        <>\n            <h1>WELCOME {userName}</h1>\n            <h2>PRIMARY INBOX</h2>\n            {\n                messages.map(message => {\n                    console.log(message)\n                    return <>\n                        {\n                            userName !== message.fromUser.username ?\n                                <article>\n                                    <h1 onClick={() => handleClick(message.post.title)}>Post: {message.post.title}</h1>\n                                    <div>From: {message.fromUser.username}</div>\n\n                                    <div>{message.content} </div>\n                                    <br></br>\n                                    <a onClick={() => handleClick(message.post.title)} style={{ fontSize: \"20px\" }}>-View Post-</a>\n                                </article>\n                                // fix click handler, not sending to correct post.\n                                : null\n                        }\n\n                    </>\n\n                })\n            }\n        </>\n\n    </>\n}\n\n\nexport default Profile;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,aAAT,QAA8B,aAA9B;;;;AAIA,MAAMC,OAAO,GAAG,QAA8C;EAAA;;EAAA,IAA7C;IAAEC,KAAF;IAASC,QAAT;IAAmBC,KAAnB;IAA0BC;EAA1B,CAA6C;EAC1D,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAMU,OAAO,GAAGT,UAAU,EAA1B;;EAEA,MAAMU,WAAW,GAAG,YAAY;IAC5BF,WAAW,CAAC,MAAMP,aAAa,CAACE,KAAD,CAApB,CAAX;IACAQ,OAAO,CAACC,GAAR,CAAYL,QAAZ;IACA,OAAOA,QAAP;EACH,CAJD;;EAMA,MAAMM,WAAW,GAAIC,KAAD,IAAW;IAC3BH,OAAO,CAACC,GAAR,CAAYF,WAAW,EAAvB;IACAC,OAAO,CAACC,GAAR,CAAYE,KAAZ;IACAR,YAAY,CAACQ,KAAD,CAAZ;IACAL,OAAO,CAACM,IAAR,CAAc,QAAd;EACH,CALD;;EAQAjB,SAAS,CAAC,MAAM;IACZY,WAAW;EACd,CAFQ,EAEN,EAFM,CAAT;EAIA,oBAAO;IAAA,uBAEH;MAAA,wBACI;QAAA,uBAAaN,QAAb;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,EAIQG,QAAQ,CAACS,GAAT,CAAaC,OAAO,IAAI;QACpBN,OAAO,CAACC,GAAR,CAAYK,OAAZ;QACA,oBAAO;UAAA,UAECb,QAAQ,KAAKa,OAAO,CAACC,QAAR,CAAiBC,QAA9B,gBACI;YAAA,wBACI;cAAI,OAAO,EAAE,MAAMN,WAAW,CAACI,OAAO,CAACG,IAAR,CAAaN,KAAd,CAA9B;cAAA,qBAA2DG,OAAO,CAACG,IAAR,CAAaN,KAAxE;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAA,qBAAYG,OAAO,CAACC,QAAR,CAAiBC,QAA7B;YAAA;cAAA;cAAA;cAAA;YAAA,QAFJ,eAII;cAAA,WAAMF,OAAO,CAACI,OAAd;YAAA;cAAA;cAAA;cAAA;YAAA,QAJJ,eAKI;cAAA;cAAA;cAAA;YAAA,QALJ,eAMI;cAAG,OAAO,EAAE,MAAMR,WAAW,CAACI,OAAO,CAACG,IAAR,CAAaN,KAAd,CAA7B;cAAmD,KAAK,EAAE;gBAAEQ,QAAQ,EAAE;cAAZ,CAA1D;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QANJ;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,CASI;UATJ,EAUM;QAZP,iBAAP;MAiBH,CAnBD,CAJR;IAAA;EAFG,iBAAP;AA8BH,CApDD;;GAAMpB,O;UAEcF,U;;;KAFdE,O;AAuDN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}
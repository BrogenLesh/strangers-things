{"ast":null,"code":"var _jsxFileName = \"/home/leshb/Course Work/strangers-things/src/components/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { fetchUserData } from \"../util/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Profile = _ref => {\n  _s();\n\n  let {\n    token,\n    userName,\n    setSearchBar\n  } = _ref;\n  const [messages, setMessages] = useState([]);\n  const history = useHistory();\n\n  const messageData = async () => {\n    setMessages(await fetchUserData(token));\n    return messages;\n  };\n\n  const handleMessage = title => {\n    setSearchBar(title);\n    history.push(`/posts`);\n  };\n\n  useEffect(() => {\n    messageData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"WELCOME \", userName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"INBOX\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }, this), messages.map(message => {\n        console.log(message);\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: userName !== message.fromUser.username ? /*#__PURE__*/_jsxDEV(\"article\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              onClick: () => handleMessage(message.post.title),\n              children: [\"Post: \", message.post.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"From: \", message.fromUser.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [message.content, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              onClick: () => handleMessage(message.post.title),\n              children: \"-View Post-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 33\n          }, this) : null\n        }, void 0, false);\n      })]\n    }, void 0, true)\n  }, void 0, false);\n};\n\n_s(Profile, \"DAK8xyXvKgBmDbBVsomuQpYTBgw=\", false, function () {\n  return [useHistory];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","useHistory","fetchUserData","Profile","token","userName","setSearchBar","messages","setMessages","history","messageData","handleMessage","title","push","map","message","console","log","fromUser","username","post","content"],"sources":["/home/leshb/Course Work/strangers-things/src/components/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { fetchUserData } from \"../util/api\";\n\n\n\nconst Profile = ({ token, userName, setSearchBar }) => {\n    const [messages, setMessages] = useState([])\n    const history = useHistory();\n\n    const messageData = async () => {\n        setMessages(await fetchUserData(token))\n        return messages\n    }\n\n    const handleMessage = (title) => {\n        setSearchBar(title)\n        history.push(`/posts`)\n    }\n\n\n    useEffect(() => {\n        messageData();\n    }, [])\n\n    return <>\n\n        <>\n            <h1>WELCOME {userName}</h1>\n            <h2>INBOX</h2>\n            {\n                messages.map(message => {\n                    console.log(message)\n                    return <>\n                        {\n                            userName !== message.fromUser.username ?\n                                <article>\n                                    <h1 onClick={() => handleMessage(message.post.title)}>Post: {message.post.title}</h1>\n                                    <div>From: {message.fromUser.username}</div>\n\n                                    <div>{message.content} </div>\n                                    <br></br>\n                                    <a onClick={() => handleMessage(message.post.title)}>-View Post-</a>\n                                </article>\n                                : null\n                        }\n\n                    </>\n\n                })\n            }\n        </>\n\n    </>\n}\n\n\nexport default Profile;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,aAAT,QAA8B,aAA9B;;;;AAIA,MAAMC,OAAO,GAAG,QAAuC;EAAA;;EAAA,IAAtC;IAAEC,KAAF;IAASC,QAAT;IAAmBC;EAAnB,CAAsC;EACnD,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAMS,OAAO,GAAGR,UAAU,EAA1B;;EAEA,MAAMS,WAAW,GAAG,YAAY;IAC5BF,WAAW,CAAC,MAAMN,aAAa,CAACE,KAAD,CAApB,CAAX;IACA,OAAOG,QAAP;EACH,CAHD;;EAKA,MAAMI,aAAa,GAAIC,KAAD,IAAW;IAC7BN,YAAY,CAACM,KAAD,CAAZ;IACAH,OAAO,CAACI,IAAR,CAAc,QAAd;EACH,CAHD;;EAMAd,SAAS,CAAC,MAAM;IACZW,WAAW;EACd,CAFQ,EAEN,EAFM,CAAT;EAIA,oBAAO;IAAA,uBAEH;MAAA,wBACI;QAAA,uBAAaL,QAAb;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,EAIQE,QAAQ,CAACO,GAAT,CAAaC,OAAO,IAAI;QACpBC,OAAO,CAACC,GAAR,CAAYF,OAAZ;QACA,oBAAO;UAAA,UAECV,QAAQ,KAAKU,OAAO,CAACG,QAAR,CAAiBC,QAA9B,gBACI;YAAA,wBACI;cAAI,OAAO,EAAE,MAAMR,aAAa,CAACI,OAAO,CAACK,IAAR,CAAaR,KAAd,CAAhC;cAAA,qBAA6DG,OAAO,CAACK,IAAR,CAAaR,KAA1E;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAA,qBAAYG,OAAO,CAACG,QAAR,CAAiBC,QAA7B;YAAA;cAAA;cAAA;cAAA;YAAA,QAFJ,eAII;cAAA,WAAMJ,OAAO,CAACM,OAAd;YAAA;cAAA;cAAA;cAAA;YAAA,QAJJ,eAKI;cAAA;cAAA;cAAA;YAAA,QALJ,eAMI;cAAG,OAAO,EAAE,MAAMV,aAAa,CAACI,OAAO,CAACK,IAAR,CAAaR,KAAd,CAA/B;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QANJ;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,GASM;QAXP,iBAAP;MAgBH,CAlBD,CAJR;IAAA;EAFG,iBAAP;AA6BH,CAhDD;;GAAMT,O;UAEcF,U;;;KAFdE,O;AAmDN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}
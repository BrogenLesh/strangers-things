{"code":"(this[\"webpackJsonpstrangers-things\"]=this[\"webpackJsonpstrangers-things\"]||[]).push([[0],{30:function(e,t,n){\"use strict\";n.r(t);var r=n(1),s=n(17),a=n.n(s),c=n(10),u=n(6),o=n(3),i=n(2),j=n(5),p=\"https://strangers-things.herokuapp.com/api/2204-FTB-MT-WEB-PT/\",b=function(){var e=Object(j.a)(Object(i.a)().mark((function e(t){var n,r,s,a,c,u=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:\"GET\",r=u.length>2?u[2]:void 0,s=u.length>3?u[3]:void 0,a=!1,e.prev=4,e.next=7,fetch(p+t,O(l(n,s),r));case 7:return c=e.sent,e.next=10,c.json();case 10:if(!(a=e.sent).error){e.next=13;break}throw a.error;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0);case 18:return e.abrupt(\"return\",a);case 19:case\"end\":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e,t){return{method:e.toUpperCase(),headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(t)}},O=function(e,t){return t?Object.assign(e,{headers:Object.assign(e.headers,{Authorization:\"Bearer \".concat(t)})}):e},d=function(){var e=Object(j.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(\"/posts\",\"GET\",t);case 2:if((n=e.sent)&&n.data){e.next=5;break}return e.abrupt(\"return\",[]);case 5:return e.abrupt(\"return\",n.data.posts||[]);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(\"/users/login\",\"POST\",null,{guest:{username:t,password:n}});case 2:return r=e.sent,e.abrupt(\"return\",{user:r.data.guest,token:r.data.token});case 4:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(\"/users/register\",\"POST\",null,{guest:{username:t,password:n}});case 2:return r=e.sent,e.abrupt(\"return\",{user:r.data.guest,token:r.data.token});case 4:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(Object(i.a)().mark((function e(t,n,r,s,a){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(\"/posts\",\"POST\",t,{post:{description:r,location:n,price:s,title:a}});case 2:return e.sent,e.next=5,d(t);case 5:return c=e.sent,e.abrupt(\"return\",c);case 7:case\"end\":return e.stop()}}),e)})));return function(t,n,r,s,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(\"/posts/\".concat(n),\"DELETE\",t);case 2:return r=e.sent,e.abrupt(\"return\",r.success);case 4:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=n(0),g=function(e){var t=e.user,n=e.setUser,s=e.token,a=e.setToken,c=Object(r.useState)(\"\"),o=Object(u.a)(c,2),p=o[0],b=o[1],l=Object(r.useState)(\"\"),O=Object(u.a)(l,2),d=O[0],x=O[1],v=Object(r.useState)(!1),g=Object(u.a)(v,2),k=g[0],w=g[1],y=function(){var e=Object(j.a)(Object(i.a)().mark((function e(t){var r,s,c,u,o,j;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!k){e.next=11;break}return e.next=4,h(p,d);case 4:r=e.sent,s=r.user,c=r.token,n(s),a(c),e.next=18;break;case 11:return e.next=13,f(p,d);case 13:u=e.sent,o=u.user,j=u.token,n(o),a(j);case 18:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:t&&s?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(\"h1\",{children:\"User Profile\"}),Object(m.jsxs)(\"p\",{children:[\"Hi \",t.username,\" is logged in\"]}),Object(m.jsx)(\"button\",{onClick:function(){n(!1),a(\"\")},children:\"Logout\"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(\"h1\",{children:k?\"Registration\":\"Login\"}),Object(m.jsxs)(\"form\",{onSubmit:y,children:[Object(m.jsx)(\"input\",{onChange:function(e){return b(e.target.value)},required:!0,name:\"username\",type:\"text\",placeholder:\"username\",value:p}),Object(m.jsx)(\"input\",{onChange:function(e){return x(e.target.value)},required:!0,name:\"password\",type:\"password\",placeholder:\"password\",value:d}),Object(m.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})]}),Object(m.jsx)(\"button\",{onClick:function(){w(!k)},children:\"Register/Login toggle\"})]})})},k=function(){return Object(m.jsx)(\"div\",{children:\"Home\"})},w=function(e){var t=e.user,n=e.token,s=e.posts,a=e.setPosts,c=(e.featuredPost,e.setFeaturedPost),p=Object(r.useState)(\"\"),b=Object(u.a)(p,2),l=b[0],O=b[1],f=Object(r.useState)(\"\"),h=Object(u.a)(f,2),g=h[0],k=h[1],w=Object(r.useState)(\"\"),y=Object(u.a)(w,2),P=y[0],S=y[1],C=Object(o.e)();Object(r.useEffect)((function(){return Object(j.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,d(n);case 3:return e.t1=e.sent,e.abrupt(\"return\",(0,e.t0)(e.t1));case 5:case\"end\":return e.stop()}}),e)})))()}),[]);var T=function(){var e=Object(j.a)(Object(i.a)().mark((function e(t){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x(n,P,g);case 3:r=e.sent,a(r);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(Object(i.a)().mark((function e(t,r){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!window.confirm(\"Are you sure?\")){e.next=6;break}return e.next=4,v(n,r);case 4:e.sent&&(c=s.filter((function(e){return e.id!=r})),a(c));case 6:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(\"h1\",{children:\"Posts\"}),Object(m.jsx)(\"input\",{onChange:function(e){return O(e.target.value)},type:\"text\",name:\"search\",placeholder:\"search\"}),t&&n&&Object(m.jsxs)(\"form\",{onSubmit:T,children:[Object(m.jsx)(\"input\",{onChange:function(e){return S(e.target.value)},type:\"text\",name:\"location\",placeholder:\"location\",value:P}),Object(m.jsx)(\"input\",{onChange:function(e){return k(e.target.value)},type:\"text\",name:\"description\",placeholder:\"description\",value:g}),Object(m.jsx)(\"button\",{type:\"submit\",children:\"Submit Posts\"})]}),Object(m.jsx)(\"section\",{children:s.filter((function(e){return function(e){return\"\".concat(e.location,\" \").concat(e.description).toLowerCase().includes(l.toLowerCase())}(e)})).map((function(e){return Object(m.jsxs)(\"div\",{onClick:function(r){!function(e,r){t&&n?(c(r),C.push(\"/posts/\".concat(r.id))):alert(\"not logged in\")}(0,e)},className:\"vacation-body\",children:[Object(m.jsx)(\"h3\",{children:e.location}),Object(m.jsx)(\"p\",{children:e.description}),t&&n&&e.guestId==t.id&&Object(m.jsx)(\"button\",{onClick:function(t){return E(t,e.id)},children:\"Delete post\"})]},e.id)}))})]})},y=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),j=i[0],p=i[1],b=Object(r.useState)(!1),l=Object(u.a)(b,2),O=(l[0],l[1],Object(r.useState)(!1)),d=Object(u.a)(O,2),f=d[0],h=d[1],x=Object(r.useState)(\"\"),v=Object(u.a)(x,2),y=v[0],P=v[1];return Object(m.jsxs)(\"main\",{children:[Object(m.jsxs)(\"nav\",{children:[Object(m.jsx)(c.b,{exact:!0,to:\"/\",className:\"navlink\",activeClassName:\"active\",children:\"Home\"}),Object(m.jsx)(c.b,{to:\"/posts\",className:\"navlink\",activeClassName:\"active\",children:\"Posts\"}),Object(m.jsx)(c.b,{to:\"/profile\",className:\"navlink\",activeClassName:\"active\",children:\"Profile\"})]}),Object(m.jsx)(o.a,{exact:!0,path:\"/\",children:Object(m.jsx)(k,{user:f})}),Object(m.jsxs)(o.a,{path:\"/posts\",children:[Object(m.jsx)(o.a,{path:\"/posts/:postId\",children:f&&y&&j&&Object(m.jsx)(\"featuredPost\",{user:f,token:y,posts:n,setPosts:s,featuredPost:j,setFeaturedPost:p})}),Object(m.jsx)(w,{user:f,token:y,featuredPost:j,setFeaturedPost:p,posts:n,setPosts:s})]}),Object(m.jsx)(o.a,{path:\"/profile\",children:Object(m.jsx)(g,{user:f,setUser:h,token:y,setToken:P})})]})};a.a.render(Object(m.jsx)(c.a,{children:Object(m.jsx)(y,{})}),document.getElementById(\"app\"))}},[[30,1,2]]]);","name":"static/js/main.90f9d10c.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_dom","react_dom_default","n","react_router_dom","slicedToArray","react_router","regeneratorRuntime","asyncToGenerator","STRANGER_THINGS_API_URL","apiCall","_ref","Object","mark","_callee","url","method","token","body","data","response","_args","arguments","wrap","_context","prev","next","length","undefined","fetch","utility_setToken","getFetchOptions","sent","json","error","t0","console","abrupt","stop","_x","apply","toUpperCase","headers","JSON","stringify","assign","Authorization","concat","fetchPosts","_ref2","_callee2","_context2","posts","_x2","loginUser","_ref4","_callee4","username","password","login","_context4","guest","user","_x5","_x6","registerUser","_ref5","_callee5","registration","_context5","_x7","_x8","submitPost","_ref7","_callee7","location","description","price","title","newPosts","_context7","post","_x12","_x13","_x14","_x15","_x16","deletePost","_ref8","_callee8","postId","_context8","success","_x17","_x18","jsx_runtime","components_profile","setUser","setToken","_useState","_useState2","setUsername","_useState3","_useState4","setPassword","_useState5","_useState6","isRegistering","setIsRegistering","handleSubmit","e","_yield$registerUser","_user","_token","_yield$loginUser","_user2","_token2","preventDefault","children","onClick","onSubmit","onChange","event","target","value","required","name","type","placeholder","home","components_posts","setPosts","setFeaturedPost","featuredPost","search","setSearch","setDescription","setLocation","history","t1","handleSubmitPost","_ref3","handleDeletePost","_callee3","remainingPosts","_context3","stopPropagation","window","confirm","filter","vc","id","_x3","toLowerCase","includes","searchMatches","map","alert","handlePostClick","className","guestId","components_App","_useState7","_useState8","_useState9","_useState10","exact","to","activeClassName","path","a","render","document","getElementById"],"sources":["static/js/main.90f9d10c.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpstrangers-things\"] = this[\"webpackJsonpstrangers-things\"] || []).push([[0],{\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(17);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js + 1 modules\nvar regeneratorRuntime = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/components/utility.js\nvar STRANGER_THINGS_API_URL=\"https://strangers-things.herokuapp.com/api/2204-FTB-MT-WEB-PT/\";var apiCall=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(url){var method,token,body,data,response,_args=arguments;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:method=_args.length>1&&_args[1]!==undefined?_args[1]:\"GET\";token=_args.length>2?_args[2]:undefined;body=_args.length>3?_args[3]:undefined;data=false;_context.prev=4;_context.next=7;return fetch(STRANGER_THINGS_API_URL+url,utility_setToken(getFetchOptions(method,body),token));case 7:response=_context.sent;_context.next=10;return response.json();case 10:data=_context.sent;if(!data.error){_context.next=13;break;}throw data.error;case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](4);console.error(_context.t0);case 18:return _context.abrupt(\"return\",data);case 19:case\"end\":return _context.stop();}}},_callee,null,[[4,15]]);}));return function apiCall(_x){return _ref.apply(this,arguments);};}();var getFetchOptions=function getFetchOptions(method,body){return{method:method.toUpperCase(),headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};};var utility_setToken=function setToken(body,token){return token?Object.assign(body,{headers:Object.assign(body.headers,{Authorization:\"Bearer \".concat(token)})}):body;};//helper functions for api use\nvar fetchPosts=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(token){var data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return apiCall('/posts','GET',token);case 2:data=_context2.sent;if(!(!data||!data.data)){_context2.next=5;break;}return _context2.abrupt(\"return\",[]);case 5:return _context2.abrupt(\"return\",data.data.posts||[]);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchPosts(_x2){return _ref2.apply(this,arguments);};}();var fetchPost=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee3(token,postId){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchPost(_x3,_x4){return _ref3.apply(this,arguments);};}();var loginUser=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee4(username,password){var login;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return apiCall(\"/users/login\",\"POST\",null,{guest:{username:username,password:password}});case 2:login=_context4.sent;return _context4.abrupt(\"return\",{user:login.data.guest,token:login.data.token});case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function loginUser(_x5,_x6){return _ref4.apply(this,arguments);};}();var registerUser=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee5(username,password){var registration;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return apiCall(\"/users/register\",\"POST\",null,{guest:{username:username,password:password}});case 2:registration=_context5.sent;return _context5.abrupt(\"return\",{user:registration.data.guest,token:registration.data.token});case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function registerUser(_x7,_x8){return _ref5.apply(this,arguments);};}();var submitComment=/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee6(token,content,postId){var data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return apiCall(\"/posts/\".concat(postId,\"/comments\"),'POST',token,{comment:{content:content},guest:{token:token}});case 2:data=_context6.sent;console.log('comment?',data);return _context6.abrupt(\"return\",data);case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function submitComment(_x9,_x10,_x11){return _ref6.apply(this,arguments);};}();var submitPost=/*#__PURE__*/function(){var _ref7=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee7(token,location,description,price,title){var data,newPosts;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return apiCall(\"/posts\",'POST',token,{post:{description:description,location:location,price:price,title:title}});case 2:data=_context7.sent;_context7.next=5;return fetchPosts(token);case 5:newPosts=_context7.sent;return _context7.abrupt(\"return\",newPosts);case 7:case\"end\":return _context7.stop();}}},_callee7);}));return function submitPost(_x12,_x13,_x14,_x15,_x16){return _ref7.apply(this,arguments);};}();var deletePost=/*#__PURE__*/function(){var _ref8=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee8(token,postId){var data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return apiCall(\"/posts/\".concat(postId),'DELETE',token);case 2:data=_context8.sent;return _context8.abrupt(\"return\",data.success);case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function deletePost(_x17,_x18){return _ref8.apply(this,arguments);};}();\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/profile.js\nvar profile_profile=function profile(_ref){var user=_ref.user,setUser=_ref.setUser,token=_ref.token,setToken=_ref.setToken;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isRegistering=_useState6[0],setIsRegistering=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(e){var _yield$registerUser,_user,_token,_yield$loginUser,_user2,_token2;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!isRegistering){_context.next=11;break;}_context.next=4;return registerUser(username,password);case 4:_yield$registerUser=_context.sent;_user=_yield$registerUser.user;_token=_yield$registerUser.token;setUser(_user);setToken(_token);_context.next=18;break;case 11:_context.next=13;return loginUser(username,password);case 13:_yield$loginUser=_context.sent;_user2=_yield$loginUser.user;_token2=_yield$loginUser.token;setUser(_user2);setToken(_token2);case 18:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleLogout=function handleLogout(){setUser(false);setToken(\"\");};var toggleRegistration=function toggleRegistration(){setIsRegistering(!isRegistering);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:user&&token?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"User Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Hi \",user.username,\" is logged in\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleLogout,children:\"Logout\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:isRegistering?\"Registration\":\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(event){return setUsername(event.target.value);},required:true,name:\"username\",type:\"text\",placeholder:\"username\",value:username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(event){return setPassword(event.target.value);},required:true,name:\"password\",type:\"password\",placeholder:\"password\",value:password}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:toggleRegistration,children:\"Register/Login toggle\"})]})});};/* harmony default export */ var components_profile = (profile_profile);\n// CONCATENATED MODULE: ./src/components/home.js\nvar home_Home=function Home(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Home\"});};/* harmony default export */ var home = (home_Home);\n// CONCATENATED MODULE: ./src/components/posts.js\nvar posts_Posts=function Posts(_ref){var user=_ref.user,token=_ref.token,posts=_ref.posts,setPosts=_ref.setPosts,featuredPost=_ref.featuredPost,setFeaturedPost=_ref.setFeaturedPost;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),location=_useState6[0],setLocation=_useState6[1];var history=Object(react_router[\"e\" /* useHistory */])();Object(react[\"useEffect\"])(function(){return Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=setPosts;_context.next=3;return fetchPosts(token);case 3:_context.t1=_context.sent;return _context.abrupt(\"return\",(0,_context.t0)(_context.t1));case 5:case\"end\":return _context.stop();}}},_callee);}))();},[]);var searchMatches=function searchMatches(post){return\"\".concat(post.location,\" \").concat(post.description).toLowerCase().includes(search.toLowerCase());};var handlePostClick=function handlePostClick(e,post){// check if user's logged in, if not then ignore\nif(user&&token){setFeaturedPost(post);history.push(\"/posts/\".concat(post.id));}else{alert(\"not logged in\");}};var handleSubmitPost=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(event){var newPosts;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();// Send the needed data to the endpoint\n_context2.next=3;return submitPost(token,location,description);case 3:newPosts=_context2.sent;// Do some stuff with the data that comes back\nsetPosts(newPosts);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmitPost(_x){return _ref3.apply(this,arguments);};}();var handleDeletePost=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee3(e,postId){var isDeleted,remainingPosts;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.stopPropagation();if(!window.confirm(\"Are you sure?\")){_context3.next=6;break;}_context3.next=4;return deletePost(token,postId);case 4:isDeleted=_context3.sent;// update my vacations state\n// Update the vacations state by removing the vacation i just deleted\nif(isDeleted){remainingPosts=posts.filter(function(vc){return vc.id!=postId;});setPosts(remainingPosts);}case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function handleDeletePost(_x2,_x3){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Posts\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return setSearch(e.target.value);},type:\"text\",name:\"search\",placeholder:\"search\"}),user&&token&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmitPost,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return setLocation(e.target.value);},type:\"text\",name:\"location\",placeholder:\"location\",value:location}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return setDescription(e.target.value);},type:\"text\",name:\"description\",placeholder:\"description\",value:description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit Posts\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{children:posts.filter(function(post){return searchMatches(post);}).map(function(post){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:function onClick(e){handlePostClick(e,post);},className:\"vacation-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:post.location}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:post.description}),user&&token&&post.guestId==user.id&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return handleDeletePost(e,post.id);},children:\"Delete post\"})]},post.id);})})]});};/* harmony default export */ var components_posts = (posts_Posts);/// fix vactions body css in line 83\n// CONCATENATED MODULE: ./src/components/featuredPosts.js\nvar featuredPosts_featuredPosts=function featuredPosts(_ref){var _featuredPost$guest;var user=_ref.user,token=_ref.token,posts=_ref.posts,setPosts=_ref.setPosts,featuredPost=_ref.featuredPost,setFeaturedPost=_ref.setFeaturedPost;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),newComment=_useState2[0],setNewComment=_useState2[1];var history=Object(react_router[\"e\" /* useHistory */])();var _useParams=Object(react_router[\"f\" /* useParams */])(),postId=_useParams.postId;var handleClose=function handleClose(){// clear the state\nsetFeaturedPost(false);// go back to vacations\nhistory.push('/posts');};var handleSubmitComment=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(e){var _comment,newPosts;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// submit the comment to the server, using our API thingy\n_context.next=3;return submitComment(token,newComment,featuredPost.id);case 3:_comment=_context.sent;_context.next=6;return fetchPosts(token);case 6:newPosts=_context.sent;setPosts(newPosts);setFeaturedPost(newPosts.find(function(pt){return pt.id==featuredPost.id;}));case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmitComment(_x){return _ref2.apply(this,arguments);};}();var handleDeletePost=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(e,postId){var isDeleted,remainingPosts;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.stopPropagation();if(!window.confirm('Are you sure?')){_context2.next=6;break;}_context2.next=4;return deletePost(token,postId);case 4:isDeleted=_context2.sent;// update my vacations state\n// Update the vacations state by removing the vacation i just deleted\nif(isDeleted){handleClose();remainingPosts=posts.filter(function(pt){return pt.id!=postId;});setPosts(remainingPosts);}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDeletePost(_x2,_x3){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"article\",{className:\"featured-post\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:featuredPost.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:featuredPost.location}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:featuredPost.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:featuredPost.price}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Posted by: \",featuredPost===null||featuredPost===void 0?void 0:(_featuredPost$guest=featuredPost.guest)===null||_featuredPost$guest===void 0?void 0:_featuredPost$guest.username]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Comments\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:featuredPost.comments.map(function(comment){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[comment.content,\" posted by: \",comment.guest.username]})},comment.id);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmitComment,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return setNewComment(e.target.value);},type:\"text\",name:\"comment\",placeholder:\"comment\",value:newComment}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit Comment\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleClose,children:\"Close\"}),user&&token&&featuredPost.guestId==user.id&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){handleDeletePost(e,featuredPost.id);},children:\"Delete post\"})]});};/* harmony default export */ var components_featuredPosts = (featuredPosts_featuredPosts);\n// CONCATENATED MODULE: ./src/components/App.js\n/**\r\n * Demo API Docs:\r\n * https://github.com/FullstackAcademy/UNIV_Adventure_Away_API/blob/main/api_docs.md\r\n *\r\n * Requirements:\r\n *  Unauthenticated:\r\n *    x View vacations\r\n *      x Search/filter (local)\r\n *    x log in\r\n *    x register\r\n *\r\n *  Authenticated:\r\n *    x View vacations\r\n *      x Search/filter\r\n *    x View individual vacation\r\n *      x Close the vacation\r\n *      x View comments\r\n *      x Submit a new comment\r\n *        x Be able to see new comment immediately after you submit it\r\n *    x Submit a new vacation\r\n *    x Delete a vacation (only one you've created)\r\n *    x view profile\r\n *    x log out\r\n *\r\n */var App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),featuredPost=_useState4[0],setFeaturedPost=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newPost=_useState6[0],setNewPost=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),user=_useState8[0],setUser=_useState8[1];var _useState9=Object(react[\"useState\"])(\"\"),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),token=_useState10[0],setToken=_useState10[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* NavLink */],{exact:true,to:\"/\",className:\"navlink\",activeClassName:\"active\",children:\"Home\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* NavLink */],{to:\"/posts\",className:\"navlink\",activeClassName:\"active\",children:\"Posts\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* NavLink */],{to:\"/profile\",className:\"navlink\",activeClassName:\"active\",children:\"Profile\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(home,{user:user})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"a\" /* Route */],{path:\"/posts\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/posts/:postId\",children:user&&token&&featuredPost&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"featuredPost\",{user:user,token:token,posts:posts,setPosts:setPosts,featuredPost:featuredPost,setFeaturedPost:setFeaturedPost})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_posts,{user:user,token:token,featuredPost:featuredPost,setFeaturedPost:setFeaturedPost,posts:posts,setPosts:setPosts})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/profile\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_profile,{user:user,setUser:setUser,token:token,setToken:setToken})})]});};/* harmony default export */ var components_App = (App_App);\n// CONCATENATED MODULE: ./src/components/index.js\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})}),document.getElementById(\"app\"));\n\n/***/ })\n\n},[[30,1,2]]]);","inputSourceMap":{"version":3,"sources":["D:/vscode project/Course Work/strangers-things/src/components/utility.js","D:/vscode project/Course Work/strangers-things/src/components/profile.js","D:/vscode project/Course Work/strangers-things/src/components/home.js","D:/vscode project/Course Work/strangers-things/src/components/posts.js","D:/vscode project/Course Work/strangers-things/src/components/featuredPosts.js","D:/vscode project/Course Work/strangers-things/src/components/App.js","D:/vscode project/Course Work/strangers-things/src/index.js"],"names":["STRANGER_THINGS_API_URL","apiCall","url","method","token","body","data","fetch","setToken","getFetchOptions","response","json","error","console","toUpperCase","headers","JSON","stringify","Object","assign","Authorization","fetchPosts","posts","fetchPost","postId","loginUser","username","password","guest","login","user","registerUser","registration","submitComment","content","comment","log","submitPost","location","description","price","title","post","newPosts","deletePost","success","profile","setUser","useState","setUsername","setPassword","isRegistering","setIsRegistering","handleSubmit","e","preventDefault","handleLogout","toggleRegistration","event","target","value","Home","Posts","setPosts","featuredPost","setFeaturedPost","search","setSearch","setDescription","setLocation","history","useHistory","useEffect","searchMatches","toLowerCase","includes","handlePostClick","push","id","alert","handleSubmitPost","handleDeletePost","stopPropagation","window","confirm","isDeleted","remainingPosts","filter","vc","map","guestId","featuredPosts","newComment","setNewComment","useParams","handleClose","handleSubmitComment","_comment","find","pt","comments","App","newPost","setNewPost","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["const STRANGER_THINGS_API_URL =\r\n    \"https://strangers-things.herokuapp.com/api/2204-FTB-MT-WEB-PT/\";\r\n\r\nexport const apiCall = async (url, method = \"GET\", token, body) => {\r\n    let data = false;\r\n    try {\r\n        const response = await fetch(\r\n            STRANGER_THINGS_API_URL + url,\r\n            setToken(getFetchOptions(method, body), token)\r\n        );\r\n        data = await response.json();\r\n\r\n        if (data.error) {\r\n            throw data.error;\r\n        }\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n\r\n    return data;\r\n};\r\n\r\nconst getFetchOptions = (method, body) => {\r\n    return {\r\n        method: method.toUpperCase(),\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(body),\r\n    };\r\n};\r\n\r\nconst setToken = (body, token) => {\r\n    return token\r\n        ? Object.assign(body, {\r\n            headers: Object.assign(body.headers, {\r\n                Authorization: `Bearer ${token}`,\r\n            }),\r\n        })\r\n        : body;\r\n};\r\n\r\n\r\n//helper functions for api use\r\n\r\nexport const fetchPosts = async (token) => {\r\n    const data = await apiCall('/posts', 'GET', token)\r\n    if (!data || !data.data) {\r\n      return []\r\n    }\r\n  \r\n    return data.data.posts || [];\r\n  }\r\n  \r\n  export const fetchPost = async(token, postId) => {\r\n  \r\n  }\r\n  \r\n  export const loginUser = async(username, password) => {\r\n    const login = await apiCall(\"/users/login\", \"POST\", null, {\r\n      guest: {username, password}\r\n    })\r\n  \r\n    return {\r\n      user: login.data.guest, \r\n      token: login.data.token\r\n    };\r\n  }\r\n  \r\n  export const registerUser = async(username, password) => {\r\n    const registration = await apiCall(\"/users/register\", \"POST\", null, {\r\n      guest: {username, password}\r\n    })\r\n  \r\n    return {\r\n      user: registration.data.guest, \r\n      token: registration.data.token\r\n    };\r\n  }\r\n  \r\n  export const submitComment = async(token, content, postId) => {\r\n    const data = await apiCall(\r\n      `/posts/${postId}/comments`, \r\n      'POST', \r\n      token, \r\n      {comment: {content}, guest: {token}}\r\n    )\r\n  \r\n    console.log('comment?', data);\r\n  \r\n    return data;\r\n  }\r\n  \r\n  export const submitPost = async(token, location, description, price, title) => {\r\n    const data = await apiCall(\r\n      `/posts`, \r\n      'POST', \r\n      token, \r\n      { post: {description, location, price, title} }\r\n    )\r\n  \r\n    // Response from the API is incomplete, so let's grab the full vacation object\r\n    const newPosts = await fetchPosts(token)\r\n    return newPosts;\r\n  }\r\n  \r\n  \r\n  \r\n  export const deletePost = async(token, postId) => {\r\n    const data = await apiCall(\r\n      `/posts/${postId}`,\r\n      'DELETE',\r\n      token\r\n    );\r\n  \r\n    return data.success;\r\n  }","import React, { useState } from \"react\";\r\nimport { loginUser, registerUser } from \"./utility\";\r\n\r\nconst profile = ({ user, setUser, token, setToken }) => {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isRegistering, setIsRegistering] = useState(false);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (isRegistering) {\r\n            const { user, token } = await registerUser(username, password);\r\n            setUser(user);\r\n            setToken(token);\r\n        } else {\r\n            const { user, token } = await loginUser(username, password);\r\n            setUser(user);\r\n            setToken(token);\r\n        }\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        setUser(false);\r\n        setToken(\"\");\r\n    };\r\n\r\n    const toggleRegistration = () => {\r\n        setIsRegistering(!isRegistering);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {user && token ? (\r\n                <>\r\n                    <h1>User Profile</h1>\r\n                    <p>Hi {user.username} is logged in</p>\r\n                    <button onClick={handleLogout}>Logout</button>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <h1>{isRegistering ? \"Registration\" : \"Login\"}</h1>\r\n                    <form onSubmit={handleSubmit}>\r\n                        <input\r\n                            onChange={(event) =>\r\n                                setUsername(event.target.value)\r\n                            }\r\n                            required\r\n                            name=\"username\"\r\n                            type=\"text\"\r\n                            placeholder=\"username\"\r\n                            value={username}\r\n                        ></input>\r\n                        <input\r\n                            onChange={(event) =>\r\n                                setPassword(event.target.value)\r\n                            }\r\n                            required\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                            placeholder=\"password\"\r\n                            value={password}\r\n                        ></input>\r\n                        <button type=\"submit\">Submit</button>\r\n                    </form>\r\n                    <button onClick={toggleRegistration}>\r\n                        Register/Login toggle\r\n                    </button>\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default profile;\r\n","import React from \"react\";\r\n\r\nconst Home = () => {\r\n    return <div>Home</div>\r\n}\r\n\r\nexport default Home;","import React, { useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { fetchPosts, submitPost, deletePost } from \"./utility\";\r\n\r\nconst Posts = ({\r\n    user,\r\n    token,\r\n    posts,\r\n    setPosts,\r\n    featuredPost,\r\n    setFeaturedPost,\r\n}) => {\r\n    const [search, setSearch] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [location, setLocation] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => (async () => setPosts(await fetchPosts(token)))(), []);\r\n\r\n    const searchMatches = (post) => {\r\n        return `${post.location} ${post.description}`\r\n            .toLowerCase()\r\n            .includes(search.toLowerCase());\r\n    };\r\n\r\n    const handlePostClick = (e, post) => {\r\n        // check if user's logged in, if not then ignore\r\n        if (user && token) {\r\n            setFeaturedPost(post);\r\n            history.push(`/posts/${post.id}`);\r\n        } else {\r\n            alert(\"not logged in\");\r\n        }\r\n    };\r\n\r\n    const handleSubmitPost = async (event) => {\r\n        event.preventDefault();\r\n        // Send the needed data to the endpoint\r\n        const newPosts = await submitPost(token, location, description);\r\n        // Do some stuff with the data that comes back\r\n        setPosts(newPosts);\r\n    };\r\n\r\n    const handleDeletePost = async (e, postId) => {\r\n        e.stopPropagation();\r\n        if (window.confirm(\"Are you sure?\")) {\r\n            // Call an api utility to delete this thing\r\n            const isDeleted = await deletePost(token, postId);\r\n            // update my vacations state\r\n            // Update the vacations state by removing the vacation i just deleted\r\n            if (isDeleted) {\r\n                const remainingPosts = posts.filter((vc) => vc.id != postId);\r\n                setPosts(remainingPosts);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <h1>Posts</h1>\r\n\r\n            <input\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                type=\"text\"\r\n                name=\"search\"\r\n                placeholder=\"search\"\r\n            />\r\n\r\n            {user && token && (\r\n                <form onSubmit={handleSubmitPost}>\r\n                    <input\r\n                        onChange={(e) => setLocation(e.target.value)}\r\n                        type=\"text\"\r\n                        name=\"location\"\r\n                        placeholder=\"location\"\r\n                        value={location}\r\n                    />\r\n                    <input\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        type=\"text\"\r\n                        name=\"description\"\r\n                        placeholder=\"description\"\r\n                        value={description}\r\n                    />\r\n                    <button type=\"submit\">Submit Posts</button>\r\n                </form>\r\n            )}\r\n\r\n            <section>\r\n                {posts\r\n                    .filter((post) => {\r\n                        return searchMatches(post);\r\n                    })\r\n                    .map((post) => {\r\n                        return (\r\n                            <div\r\n                                key={post.id}\r\n                                onClick={(e) => {\r\n                                    handlePostClick(e, post);\r\n                                }}\r\n                                className=\"vacation-body\"\r\n                            >\r\n                                <h3>{post.location}</h3>\r\n                                <p>{post.description}</p>\r\n\r\n                                {user && token && post.guestId == user.id && (\r\n                                    <button\r\n                                        onClick={(e) =>\r\n                                            handleDeletePost(e, post.id)\r\n                                        }\r\n                                    >\r\n                                        Delete post\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        );\r\n                    })}\r\n            </section>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Posts;\r\n\r\n/// fix vactions body css in line 83\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { fetchPosts, deletePost, submitComment } from \"./utility\";\r\n\r\nconst featuredPosts = ({\r\n  user,\r\n  token,\r\n  posts, setPosts,\r\n  featuredPost, setFeaturedPost\r\n}) => {\r\n\r\n  const [newComment, setNewComment] = useState('')\r\n  const history = useHistory();\r\n  const {postId} = useParams();\r\n\r\n  const handleClose = () => {\r\n    // clear the state\r\n    setFeaturedPost(false)\r\n\r\n    // go back to vacations\r\n    history.push('/posts');\r\n  }\r\n\r\n  const handleSubmitComment = async (e) => {\r\n    e.preventDefault();\r\n    // submit the comment to the server, using our API thingy\r\n    const _comment = await submitComment(token, newComment, featuredPost.id)\r\n\r\n    const newPosts= await fetchPosts(token)\r\n    setPosts(newPosts);\r\n    setFeaturedPost(newPosts.find(pt => pt.id == featuredPost.id))\r\n  }\r\n\r\n  const handleDeletePost = async (e, postId) => {\r\n    e.stopPropagation();\r\n    if (window.confirm('Are you sure?')) {\r\n      // Call an api utility to delete this thing\r\n      const isDeleted = await deletePost(token, postId)\r\n      // update my vacations state\r\n      // Update the vacations state by removing the vacation i just deleted\r\n      if (isDeleted) {\r\n        handleClose()\r\n        const remainingPosts = posts.filter(pt => pt.id != postId)\r\n        setPosts(remainingPosts)\r\n      }\r\n    }\r\n  }\r\n\r\n  return <article className=\"featured-post\">\r\n    <h1>{featuredPost.title}</h1>\r\n    <p>{featuredPost.location}</p>\r\n    <p>{featuredPost.description}</p>\r\n    <p>{featuredPost.price}</p>\r\n    <p>Posted by: {featuredPost?.guest?.username}</p>\r\n\r\n    <section>\r\n      <h2>Comments</h2>\r\n      <ul>\r\n        {featuredPost.comments.map(comment => {\r\n          return <li key={comment.id}>\r\n            <span>{comment.content} posted by: {comment.guest.username}</span>\r\n          </li>\r\n        })}\r\n      </ul>\r\n    </section>\r\n\r\n    <form onSubmit={handleSubmitComment}>\r\n        <input \r\n          onChange={(e) => setNewComment(e.target.value)}\r\n          type=\"text\" name=\"comment\" \r\n          placeholder=\"comment\" value={newComment} />\r\n          <button type=\"submit\">Submit Comment</button>\r\n    </form>\r\n\r\n    <section>\r\n      {/* Submit comment component */}\r\n    </section>\r\n    <button onClick={handleClose}>Close</button>\r\n    {user && token && (featuredPost.guestId == user.id) &&\r\n        <button onClick={(e) => {handleDeletePost(e, featuredPost.id)}}>Delete post</button>\r\n      }\r\n  </article>\r\n}\r\n\r\n\r\nexport default featuredPosts;\r\n","import React, { useState } from \"react\";\r\nimport { NavLink, Route } from \"react-router-dom\";\r\nimport Account from \"./profile\";\r\nimport Home from \"./home\";\r\nimport Posts from \"./posts\";\r\nimport featuredPosts from \"./featuredPosts\";\r\n\r\n/**\r\n * Demo API Docs:\r\n * https://github.com/FullstackAcademy/UNIV_Adventure_Away_API/blob/main/api_docs.md\r\n *\r\n * Requirements:\r\n *  Unauthenticated:\r\n *    x View vacations\r\n *      x Search/filter (local)\r\n *    x log in\r\n *    x register\r\n *\r\n *  Authenticated:\r\n *    x View vacations\r\n *      x Search/filter\r\n *    x View individual vacation\r\n *      x Close the vacation\r\n *      x View comments\r\n *      x Submit a new comment\r\n *        x Be able to see new comment immediately after you submit it\r\n *    x Submit a new vacation\r\n *    x Delete a vacation (only one you've created)\r\n *    x view profile\r\n *    x log out\r\n *\r\n */\r\n\r\nconst App = () => {\r\n    const [posts, setPosts] = useState([]);\r\n    const [featuredPost, setFeaturedPost] = useState(false);\r\n    const [newPost, setNewPost] = useState(false);\r\n    const [user, setUser] = useState(false);\r\n    const [token, setToken] = useState(\"\");\r\n\r\n    return (\r\n        <main>\r\n            <nav>\r\n                <NavLink\r\n                    exact\r\n                    to=\"/\"\r\n                    className=\"navlink\"\r\n                    activeClassName=\"active\"\r\n                >\r\n                    Home\r\n                </NavLink>\r\n\r\n                <NavLink\r\n                    to=\"/posts\"\r\n                    className=\"navlink\"\r\n                    activeClassName=\"active\"\r\n                >\r\n                    Posts\r\n                </NavLink>\r\n\r\n                <NavLink\r\n                    to=\"/profile\"\r\n                    className=\"navlink\"\r\n                    activeClassName=\"active\"\r\n                >\r\n                    Profile\r\n                </NavLink>\r\n            </nav>\r\n\r\n            <Route exact path=\"/\">\r\n                <Home user={user} />\r\n            </Route>\r\n\r\n            <Route path=\"/posts\">\r\n                <Route path=\"/posts/:postId\">\r\n                    {user && token && featuredPost && (\r\n                        <featuredPost\r\n                            user={user}\r\n                            token={token}\r\n                            posts={posts}\r\n                            setPosts={setPosts}\r\n                            featuredPost={featuredPost}\r\n                            setFeaturedPost={setFeaturedPost}\r\n                        />\r\n                    )}\r\n                </Route>\r\n                <Posts\r\n                    user={user}\r\n                    token={token}\r\n                    featuredPost={featuredPost}\r\n                    setFeaturedPost={setFeaturedPost}\r\n                    posts={posts}\r\n                    setPosts={setPosts}\r\n                />\r\n            </Route>\r\n\r\n            <Route path=\"/profile\">\r\n                <Account\r\n                    user={user}\r\n                    setUser={setUser}\r\n                    token={token}\r\n                    setToken={setToken}\r\n                />\r\n            </Route>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport { App } from \"./components\";\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>,\r\n    document.getElementById(\"app\")\r\n);\r\n"]}}